Описание архитектуры:
Пользователь взаимодействует с сервисом через HTTP-методы.
Сервис отвечает за обработку запросов, сохранение данных подписок, получение актуальных данных о ценах квартир и формирование ответов.
Для сохранения данных используется MS SQL.
При помощи парсинга объявлений с сайта prinzip.su на сервисе обновляюся данные о цене квартиры.
Структура:
1. Клиент отправляет HTTP POST-запрос на /Subscriptions/subscribe с параметрами объявления(link) и email.
2. Web-сервер принимает запрос и проверяет валидность ссылки на объявление, сохраняет данные подписки в хранилище данных.
3. Если сохранение успешно, бизнес-логика отправляет клиенту ответ с кодом 200 и сообщением об успешной подписке.
4. Клиент может отправлять HTTP GET-запрос на /Subscriptions/getsubscribes для получения актуальных цен и ссылок на квартиры, для которых выполнена подписка.
5. Web-сервер принимает запрос обновляет данные через парсинг сайта и возвращает информацию о ценах формирует ответ.
6. Клиенту отправляется ответ с актуальными ценами квартир и ссылками на них.
7. Также были реализованы HTTP запросы для удаления подписки и получения полного спика всех подписок.
8. Можно отправлять HTTP GET-запрос на /Subscriptions/getallsubscribes для получения всего списка объявлений и подписок. Данную функцию следует ограничить для использования клиентов, что не было реализовано.
9. При отправке HTTP DELETE-запроса на /Subscriptions/delete с параметрами объявления(link) и email можно удалять подписки.
